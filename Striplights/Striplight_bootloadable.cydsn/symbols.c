
#include "shared.h"

#define INVADER_FRAME_COUNT 2
#define INVADER_FRAME_WIDTH 12
#define INVADER_FRAME_HEIGHT 12

/* Piskel data for "invader" */

uint32_t invader_data[2][144] = {
{
0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x000000, 0x000000, 
0x000000, 0x000000, 0x00c93b, 0x00c93b, 0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 0x000000, 0x00c93b, 0x00c93b, 0x000000, 
0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 
0x000000, 0x00c93b, 0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x000000, 0x00c93b, 
0x000000, 0x00c93b, 0x000000, 0x00c93b, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x00c93b, 
0x000000, 0x000000, 0x000000, 0x000000, 0x00c93b, 0x00c93b, 0x000000, 0x00c93b, 0x00c93b, 0x000000, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000
},
{
0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 
0x000000, 0x00c93b, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 0x00c93b, 
0x000000, 0x00c93b, 0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x000000, 0x00c93b, 
0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 
0x000000, 0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x000000, 
0x000000, 0x000000, 0x000000, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x00c93b, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 
0x000000, 0x000000, 0x00c93b, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x00c93b, 0x000000, 
0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000
}
};


#define POKEBALL_FRAME_COUNT 1
#define POKEBALL_FRAME_WIDTH 12
#define POKEBALL_FRAME_HEIGHT 12



/* Piskel data for "pokeball" */

uint32_t pokeball_data[1][144] = {
{
0xffffff, 0xffffff, 0xffffff, 0xffffff, 0x000000, 0x000000, 0x000000, 0x000000, 0xffffff, 0xffffff, 0xffffff, 0xffffff, 
0xffffff, 0xffffff, 0x000000, 0x000000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 0x000000, 0xffffff, 0xffffff, 
0xffffff, 0x000000, 0xff0000, 0xff0000, 0xcacaca, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 0xffffff, 
0xffffff, 0x000000, 0xff0000, 0xcacaca, 0xcacaca, 0xcacaca, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 0xffffff, 
0x000000, 0xff0000, 0xff0000, 0xff0000, 0xcacaca, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 
0x000000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 0x000000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 
0x000000, 0x000000, 0xff0000, 0xff0000, 0x000000, 0xcacaca, 0x767676, 0x000000, 0xff0000, 0xff0000, 0x000000, 0x000000, 
0x000000, 0xcacaca, 0x000000, 0x000000, 0x000000, 0x767676, 0x767676, 0x000000, 0x000000, 0x000000, 0x767676, 0x000000, 
0xffffff, 0x000000, 0xcacaca, 0xcacaca, 0xcacaca, 0x000000, 0x000000, 0x767676, 0x767676, 0x767676, 0x000000, 0xffffff, 
0xffffff, 0x000000, 0x767676, 0xcacaca, 0xcacaca, 0xcacaca, 0x767676, 0x767676, 0x767676, 0x767676, 0x000000, 0xffffff, 
0xffffff, 0xffffff, 0x000000, 0x000000, 0x767676, 0x767676, 0x767676, 0x767676, 0x000000, 0x000000, 0xffffff, 0xffffff, 
0xffffff, 0xffffff, 0xffffff, 0xffffff, 0x000000, 0x000000, 0x000000, 0x000000, 0xffffff, 0xffffff, 0xffffff, 0xffffff
}
};


#define MINION_FRAME_COUNT 1
#define MINION_FRAME_WIDTH 12
#define MINION_FRAME_HEIGHT 12

uint32_t minion_data[1][144] = {
{
0x000000, 0x000000, 0x000000, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0x000000, 0x000000, 0x000000, 
0x000000, 0x000000, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0x000000, 0x000000, 
0x000000, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0x525252, 0x525252, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0x000000, 
0x000000, 0xffd600, 0xffd600, 0xffd600, 0x525252, 0xffffff, 0xffffff, 0x525252, 0xffd600, 0xffd600, 0xffd600, 0x000000, 
0x000000, 0x1c1c1c, 0x1c1c1c, 0x525252, 0xffffff, 0x000000, 0x000000, 0xffffff, 0x525252, 0x1c1c1c, 0x1c1c1c, 0x000000, 
0x000000, 0x1c1c1c, 0x1c1c1c, 0x525252, 0xffffff, 0x000000, 0x000000, 0xffffff, 0x525252, 0x1c1c1c, 0x1c1c1c, 0x000000, 
0x000000, 0xffd600, 0xffd600, 0xffd600, 0x525252, 0xffffff, 0xffffff, 0x525252, 0xffd600, 0xffd600, 0xffd600, 0x000000, 
0x000000, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0x525252, 0x525252, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0x000000, 
0x000000, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0x000000, 
0x000000, 0xffd600, 0xffd600, 0x1c1c1c, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0x1c1c1c, 0xffd600, 0xffd600, 0x000000, 
0x000000, 0xffd600, 0xffd600, 0xffd600, 0x1c1c1c, 0x1c1c1c, 0x1c1c1c, 0x1c1c1c, 0xffd600, 0xffd600, 0xffd600, 0x000000, 
0x000000, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0xffd600, 0x000000
}
};

#define HEART_FRAME_COUNT 1
#define HEART_FRAME_WIDTH 11
#define HEART_FRAME_HEIGHT 11


uint32_t heart_data[1][121] = {
{
0xe5e5e5, 0xe5e5e5, 0x000000, 0x000000, 0x000000, 0xe5e5e5, 0x000000, 0x000000, 0x000000, 0xe5e5e5, 0xe5e5e5, 
0xe5e5e5, 0x000000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 0xe5e5e5, 
0x000000, 0xff0000, 0xe5e5e5, 0xe5e5e5, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 
0x000000, 0xff0000, 0xe5e5e5, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 
0x000000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x000000, 
0x000000, 0x690000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x690000, 0x000000, 
0xe5e5e5, 0x000000, 0x690000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0xff0000, 0x690000, 0x000000, 0xe5e5e5, 
0xe5e5e5, 0xe5e5e5, 0x000000, 0x690000, 0xff0000, 0xff0000, 0xff0000, 0x690000, 0x000000, 0xe5e5e5, 0xe5e5e5, 
0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 0x000000, 0x690000, 0xff0000, 0x690000, 0x000000, 0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 
0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 0x000000, 0x690000, 0x000000, 0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 
0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 0x000000, 0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 0xe5e5e5, 0xe5e5e5
}
};

struct symbols {
	int frame_count;
	int width;
	int height;
	void *data;
};

#define SYMBOLS_COUNT 1

struct symbols syms[SYMBOLS_COUNT] = {
	{ HEART_FRAME_COUNT, HEART_FRAME_WIDTH, HEART_FRAME_HEIGHT, heart_data },
	{ MINION_FRAME_COUNT, MINION_FRAME_WIDTH, MINION_FRAME_HEIGHT, minion_data },
	{ POKEBALL_FRAME_COUNT, POKEBALL_FRAME_WIDTH, POKEBALL_FRAME_HEIGHT, pokeball_data }
};

void
symbol_mode()
{
	int cur_sym = 0, old_sym = -1;
	uint8_t reg_status;
	struct symbols *sym;

	do {
		cur_sym += get_rot1_dir() ;
		FILTER_VALUE(cur_sym, SYMBOLS_COUNT - 1);

		if (cur_sym != old_sym) {
			sym = &syms[cur_sym];
			
			while(StripLights_Ready() == 0);
			for (x = 0; x < sym->width; x++) {
				for (y = 0; y < sym->height; y++) {
					set_pixel(x, y, sym->data[0][x * sym->width + y]);
				}
			}
			StripLights_Trigger(1);
		}
		
		old_sym = cur_sym;

		reg_status = RotSWReg_Read();
	} while(reg_status != 0);
}
